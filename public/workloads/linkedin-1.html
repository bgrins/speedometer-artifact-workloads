<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinkedIn Clone</title>
    <style>
        body, html { margin: 0; padding: 0; font-family: Arial, sans-serif; }
        #app { display: flex; flex-direction: column; align-items: center; }
        header { width: 100%; padding: 10px 20px; background-color: #0073b1; color: #fff; display: flex; align-items: center; justify-content: space-between; }
        header h1 { font-size: 1.5em; margin: 0; }
        nav { display: flex; gap: 20px; }
        main { width: 90%; max-width: 800px; display: flex; flex-direction: column; gap: 20px; padding: 20px 0; }
        .feed-item, .profile, .connections, .messages { background: #fff; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
        .feed-item h2, .profile h2, .connections h2, .messages h2 { margin: 0 0 10px; font-size: 1.2em; }
        .feed-actions button, .profile-actions button { margin-right: 10px; }
        .connections input, .messages input { width: 100%; padding: 5px; }
        .connection-item, .message-item { padding: 5px 0; border-bottom: 1px solid #eee; }
        footer { padding: 10px 0; text-align: center; }
    </style>
</head>
<body>
<div id="app">
    <header>
        <h1>LinkedIn</h1>
        <nav>
            <button onclick="view('feed')">Feed</button>
            <button onclick="view('profile')">Profile</button>
            <button onclick="view('connections')">Connections</button>
            <button onclick="view('messages')">Messages</button>
        </nav>
    </header>
    <main id="content">
        <section class="feed">
            <div class="post-feed">
                <input type="text" id="postContent" placeholder="Share an update...">
                <button onclick="postToFeed()">Post</button>
            </div>
            <div id="feedItems">
                <!-- Feed items will be added here -->
            </div>
        </section>
        <section class="profile" style="display:none;">
            <h2>Profile</h2>
            <input type="text" id="profileName" value="John Doe">
            <textarea id="profileSummary">A passionate developer...</textarea>
            <button onclick="saveProfile()">Save</button>
        </section>
        <section class="connections" style="display:none;">
            <h2>Connections</h2>
            <input type="text" id="searchConnections" oninput="searchConnections()" placeholder="Search connections...">
            <div id="connectionsList">
                <!-- Connections list -->
                <div class="connection-item">Alice Johnson</div>
                <div class="connection-item">Bob Smith</div>
                <div class="connection-item">Charlie Lee</div>
            </div>
        </section>
        <section class="messages" style="display:none;">
            <h2>Messages</h2>
            <input type="text" id="messageInput" placeholder="Type a message...">
            <button onclick="sendMessage()">Send</button>
            <div id="messagesList">
                <!-- Messages list -->
            </div>
        </section>
    </main>
    <footer>&copy; LinkedIn Clone</footer>
</div>

<script>
    const posts = [];
    const messages = [];
    
    function view(section) {
        document.querySelectorAll('main > section').forEach(s => s.style.display = 'none');
        document.querySelector(`.${section}`).style.display = 'block';
    }

    function postToFeed() {
        const content = document.getElementById('postContent').value;
        if (content) {
            posts.push(content);
            document.getElementById('postContent').value = '';
            renderFeed();
        }
    }

    function renderFeed() {
        const feedItems = document.getElementById('feedItems');
        feedItems.innerHTML = '';
        posts.forEach((post, idx) => {
            const item = document.createElement('div');
            item.className = 'feed-item';
            item.innerHTML = `<p>${post}</p><div class="feed-actions"><button onclick="likePost(${idx})">Like</button></div>`;
            feedItems.appendChild(item);
        });
    }

    function likePost(idx) {
        alert(`Liked post ${idx + 1}`);
    }

    function saveProfile() {
        const name = document.getElementById('profileName').value;
        const summary = document.getElementById('profileSummary').value;
        alert(`Profile updated: ${name} - ${summary}`);
    }

    function searchConnections() {
        const term = document.getElementById('searchConnections').value.toLowerCase();
        document.querySelectorAll('.connection-item').forEach(item => {
            item.style.display = item.textContent.toLowerCase().includes(term) ? '' : 'none';
        });
    }

    function sendMessage() {
        const message = document.getElementById('messageInput').value;
        if (message) {
            messages.push(message);
            document.getElementById('messageInput').value = '';
            renderMessages();
        }
    }

    function renderMessages() {
        const messagesList = document.getElementById('messagesList');
        messagesList.innerHTML = '';
        messages.forEach(msg => {
            const item = document.createElement('div');
            item.className = 'message-item';
            item.textContent = msg;
            messagesList.appendChild(item);
        });
    }

    window.TESTS = [
        { name: "PostFeedItem", test: () => { document.getElementById("postContent").value = "Hello World"; postToFeed(); } },
        { name: "LikeFeedItem", test: () => { document.querySelector(".feed-actions button").click(); } },
        { name: "EditProfile", test: () => { document.getElementById("profileName").value = "Jane Doe"; saveProfile(); } },
        { name: "SendMessage", test: () => { document.getElementById("messageInput").value = "Hi there!"; sendMessage(); } },
        { name: "SearchConnections", test: () => { document.getElementById("searchConnections").value = "Alice"; searchConnections(); } }
    ];
</script>
</body>
<script type="module" src="../src/runner-adapter.js"></script>
</html>
